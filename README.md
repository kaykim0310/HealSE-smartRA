# 🛡️ KOSHA KRAS 위험성평가 시스템

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://python.org)
[![Flask](https://img.shields.io/badge/Flask-2.0+-green.svg)](https://flask.palletsprojects.com)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

**KOSHA KRAS 위험성평가 시스템**은 작업장 사진을 업로드하면 AI가 자동으로 위험요소를 분석하고 KOSHA(한국산업안전보건공단) 표준 양식의 Excel 보고서를 생성하는 웹 애플리케이션입니다.

## 🎯 주요 기능

### ✅ AI 기반 위험요소 분석
- 작업장 사진에서 위험요소 자동 식별
- 6가지 위험 분류 (기계적, 전기적, 화학적, 물리적, 인간공학적, 작업환경적)
- 가능성(1-5점) × 중대성(1-4점) = 위험성 점수(1-20점) 자동 산정

### ✅ KOSHA 표준 보고서 생성
- KOSHA KRAS 표준 양식 준수
- 위험도별 색상 구분 (낮음: 녹색, 보통: 노란색, 높음: 빨간색)
- 개선방안 자동 제안
- Excel 형식으로 다운로드

### ✅ 직관적인 웹 인터페이스
- 4단계 탭 구조로 간편한 사용
- 드래그 앤 드롭 파일 업로드
- 실시간 분석 진행상황 표시
- 반응형 디자인으로 모든 기기 지원

## 🚀 빠른 시작

### Windows 사용자
1. `start.bat` 파일을 더블클릭하여 실행
2. 브라우저에서 `http://localhost:5000` 접속

### Linux/Mac 사용자
```bash
chmod +x start.sh
./start.sh
```

### Docker 사용자
```bash
docker-compose up -d
```

### 수동 설치
```bash
# Python 의존성 설치
pip install -r requirements.txt

# 서버 실행
python app.py
```

## 📊 주요 기능

### ✅ AI 이미지 분석
- 작업장 사진에서 위험요소 자동 식별
- 6가지 위험 분류 (기계적, 전기적, 화학적, 물리적, 인간공학적, 작업환경적)
- 가능성(1-5점) × 중대성(1-4점) = 위험성 점수(1-20점) 자동 산정

### ✅ KOSHA 표준 보고서
- KOSHA KRAS 표준 양식 준수
- 위험도별 색상 구분 (낮음: 녹색, 보통: 노란색, 높음: 빨간색)
- 개선방안 자동 제안
- Excel 형식으로 다운로드

### ✅ 직관적인 웹 인터페이스
- 4단계 탭 구조로 간편한 사용
- 드래그 앤 드롭 파일 업로드
- 실시간 분석 진행상황 표시
- 반응형 디자인

## 🎯 위험성평가 기준

### 가능성 점수 (1-5점)
- **1점**: 매우 드물게 발생
- **2점**: 가끔 접촉 가능  
- **3점**: 보통 수준의 노출
- **4점**: 자주 접근하는 작업 영역
- **5점**: 매일 발생하는 상황

### 중대성 점수 (1-4점)
- **1점**: 경미한 부상
- **2점**: 넘어짐으로 인한 부상
- **3점**: 중상 가능성
- **4점**: 감전 시 사망 위험

### 위험성 등급
- **1-4점**: 낮음 (허용 가능) 🟢
- **5-8점**: 보통 (주의 필요) 🟡
- **9-12점**: 높음 (개선 필요) 🟠
- **13-16점**: 매우 높음 (즉시 개선) 🔴
- **17-20점**: 극도로 높음 (작업 중단) ⛔

## 📁 파일 구조

```
kras-windows-package/
├── app.py              # 메인 애플리케이션
├── start.bat           # Windows 실행 스크립트
├── README.md           # 이 파일
├── uploads/            # 업로드된 이미지 저장 (자동 생성)
└── outputs/            # 생성된 Excel 파일 저장 (자동 생성)
```

## 🔧 문제 해결

### Python 관련 오류
```
'python'은(는) 내부 또는 외부 명령, 실행할 수 있는 프로그램, 또는 배치 파일이 아닙니다.
```
**해결방법**: Python 설치 시 "Add Python to PATH" 선택 후 컴퓨터 재시작

### 패키지 설치 오류
```
pip install 실패
```
**해결방법**: 
1. 인터넷 연결 확인
2. 관리자 권한으로 실행
3. 수동 설치: `pip install flask flask-cors openpyxl`

### 포트 사용 중 오류
```
Port 5000 is already in use
```
**해결방법**: 
1. 다른 프로그램 종료
2. 컴퓨터 재시작
3. 또는 app.py에서 포트 번호 변경 (5000 → 8080)

## 💡 사용 팁

### 최적의 이미지 업로드
- **해상도**: 1024x768 이상 권장
- **파일 크기**: 10MB 이하
- **형식**: JPG, PNG, GIF 지원
- **촬영 각도**: 위험요소가 명확히 보이는 각도

### 효과적인 평가 방법
1. **전체 작업장 사진**: 넓은 시야로 촬영
2. **세부 위험요소**: 특정 위험 부분 확대 촬영
3. **다양한 각도**: 여러 방향에서 촬영
4. **조명 충분**: 어둡지 않은 환경에서 촬영

## 📞 지원 및 문의

### 기술 지원
- 프로그램 사용 중 문제 발생 시 README.md의 문제 해결 섹션 참조
- Python 설치 관련: [Python 공식 문서](https://docs.python.org/3/using/windows.html)

### 업데이트
- 새로운 기능이나 버그 수정이 있을 때마다 새 버전 제공
- 기존 파일을 새 버전으로 교체하여 업데이트

## 📄 라이선스

이 프로그램은 KOSHA(한국산업안전보건공단)의 위험성평가 기준을 준수하여 개발되었습니다.

---

## 🎉 시작하기

1. **start.bat** 더블클릭
2. **http://localhost:5000** 접속
3. **작업장 사진 업로드**
4. **위험성평가 완료!**

**안전한 작업장을 위한 첫걸음을 시작하세요!** 🛡️
